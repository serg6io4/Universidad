--EJERCICIO 1
SELECT P.ID, NVL(I.TRAMOS, 0)"TRAMOS" FROM PROFESORES P LEFT OUTER JOIN INVESTIGADORES I ON (P.ID=I.ID_PROFESOR);

--EJERCICIO 2
SELECT DISTINCT P1.APELLIDO1, P2.APELLIDO1,P1.TELEFONO FROM PROFESORES P1, PROFESORES P2
WHERE P1.ID<P2.ID
AND ((P1.TELEFONO=P2.TELEFONO)OR(P1.TELEFONO IS NULL AND P2.TELEFONO IS NULL));

--EJERCICIO 3
SELECT DISTINCT AL.DNI, AL.FECHA_NACIMIENTO FROM ALUMNOS AL
WHERE AL.DNI NOT IN (SELECT DISTINCT M.ALUMNO FROM MATRICULAR M )
AND (MONTHS_BETWEEN(SYSDATE, FECHA_NACIMIENTO)/12)>=18
AND ROWNUM<3;

--EJERCICIO 5
SELECT ASI.NOMBRE"NombreAsignatura", M.CURSO"Curso", SUM(DECODE(AL.GENERO, 'MASC', 1,0))"NumAlumnos",SUM(DECODE(AL.GENERO, 'FEM', 1,0))"NumAlumnas" 
FROM ASIGNATURAS ASI, ALUMNOS AL, MATRICULAR M
WHERE ASI.CODIGO=M.ASIGNATURA
AND AL.DNI=M.ALUMNO
GROUP BY ASI.NOMBRE, M.CURSO;